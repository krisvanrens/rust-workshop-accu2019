image: "rust:latest"

build:
  script:
  - rustc --version && cargo --version
  - cargo build

test:cargo:
  script:
  - cargo test --all --verbose

test:end-to-end:
  script:
  - apt-get update
  - apt-get install -y netcat
  - ./test_server.sh
